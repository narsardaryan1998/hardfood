!function(k){"use strict";var B=!1,e=k.fn.val;function S(t,n){t.addEventListener("mousedown",function(t){t.preventDefault(),n(t)}),t.addEventListener("touchstart",function(t){t.cancelable&&t.preventDefault(),n(t)}),t.addEventListener("keydown",function(t){32!==t.keyCode||B||(B=!0,n(t))})}k.fn.val=function(t){var n;return 1<=arguments.length&&this[0]&&this[0]["bootstrap-input-spinner"]&&this[0].setValue&&(n=this[0],setTimeout(function(){n.setValue(t)})),e.apply(this,arguments)},k.fn.InputSpinner=k.fn.inputSpinner=function(t){var n,T={decrementButton:"<strong>-</strong>",incrementButton:"<strong>+</strong>",groupClass:"",buttonsClass:"btn-outline-secondary",buttonsWidth:"2.5rem",textAlign:"center",autoDelay:500,autoInterval:100,boostThreshold:10,boostMultiplier:"auto",locale:null};for(n in t)T[n]=t[n];var D='<div class="input-group '+T.groupClass+'"><div class="input-group-prepend"><button style="min-width: '+T.buttonsWidth+'" class="btn btn-decrement '+T.buttonsClass+'" type="button">'+T.decrementButton+'</button></div><input type="text" style="text-align: '+T.textAlign+'" class="form-control"/><div class="input-group-append"><button style="min-width: '+T.buttonsWidth+'" class="btn btn-increment '+T.buttonsClass+'" type="button">'+T.incrementButton+"</button></div></div>",L=T.locale||navigator.language||"en-US";return this.each(function(){var u=k(this);u[0]["bootstrap-input-spinner"]=!0,u.hide();var n=null,e=null,o="auto"===T.boostMultiplier,a=o?1:T.boostMultiplier,r=k(D),i=r.find(".btn-decrement"),p=r.find(".btn-increment"),s=r.find("input"),l=null,c=null,d=null,f=null,m=null,v=null,g=null;C();var t,b,h=parseFloat(u[0].value),y=0,x=u.attr("data-prefix")||"",E=u.attr("data-suffix")||"";function w(t,n){void 0===n&&(n=!0),h=isNaN(t)||""===t?(u[0].value="",n&&(s[0].value=""),NaN):(t=parseFloat(t),t=Math.min(Math.max(t,l),c),t=Math.round(t*Math.pow(10,m))/Math.pow(10,m),u[0].value=t,n&&(s[0].value=g.format(t)),t)}function M(n,e){e&&setTimeout(function(){var t;"function"==typeof Event?t=new Event(e,{bubbles:!0}):(t=document.createEvent("Event")).initEvent(e,!0,!0),n[0].dispatchEvent(t)})}function F(t){s[0].disabled||s[0].readOnly||(N(t),I(),n=setTimeout(function(){e=setInterval(function(){y>T.boostThreshold?o?(N(t*parseInt(a,10)),a<1e8&&(a*=1.1),f&&(a=Math.min(f,a))):N(t*a):N(t),y++},T.autoInterval)},T.autoDelay))}function N(t){isNaN(h)&&(h=0),w(Math.round(h/t)*t+t),M(u,"input"),M(u,"change")}function I(){y=0,a=o?1:T.boostMultiplier,clearTimeout(n),clearTimeout(e)}function C(){s.prop("required",u.prop("required")),s.prop("placeholder",u.prop("placeholder"));var t=u.prop("disabled"),n=u.prop("readonly");s.prop("disabled",t),s.prop("readonly",n),p.prop("disabled",t||n),i.prop("disabled",t||n),(t||n)&&I();t=u.prop("class"),n="";/form-control-sm/g.test(t)?n="input-group-sm":/form-control-lg/g.test(t)&&(n="input-group-lg");t=t.replace(/form-control(-(sm|lg))?/g,"");r.prop("class","input-group "+n+" "+T.groupClass),s.prop("class","form-control "+t),l=parseFloat(u.prop("min"))||0,c=isNaN(u.prop("max"))||""===u.prop("max")?1/0:parseFloat(u.prop("max")),d=parseFloat(u.prop("step"))||1,f=parseInt(u.attr("data-step-max"))||0;n=parseInt(u.attr("data-decimals"))||0,t=!("false"===u.attr("data-digit-grouping"));m===n&&v===t||(m=n,v=t,g=new Intl.NumberFormat(L,{minimumFractionDigits:m,maximumFractionDigits:m,useGrouping:v}))}x&&(x=k('<span class="input-group-text">'+x+"</span>"),r.find(".input-group-prepend").append(x)),E&&(t=k('<span class="input-group-text">'+E+"</span>"),r.find(".input-group-append").prepend(t)),u[0].setValue=function(t){w(t)},new MutationObserver(function(){C(),w(h,!0)}).observe(u[0],{attributes:!0}),u.after(r),w(h),s.on("paste input change focusout",function(t){var n,e,o,a=s[0].value,r="focusout"===t.type;n=a,e=new Intl.NumberFormat(L),o=e.format(1111).replace(/1/g,""),e=e.format(1.1).replace(/1/g,""),w(parseFloat(n.replace(new RegExp("\\"+o,"g"),"").replace(new RegExp("\\"+e),".")),r),M(u,t.type)}),S(i[0],function(){F(-d)}),S(p[0],function(){F(d)}),t=document.body,b=function(){I()},t.addEventListener("mouseup",function(t){b(t)}),t.addEventListener("touchend",function(t){b(t)}),t.addEventListener("keyup",function(t){32===t.keyCode&&(B=!1,b(t))})}),this}}(jQuery);
